% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Logitreg_group4.R
\name{logitreg_group4}
\alias{logitreg_group4}
\alias{prepare_data}
\alias{estimate_beta}
\alias{bootstrap_ci}
\alias{predict_class}
\alias{confusion_matrix}
\title{Logistic Regression Functions}
\usage{
prepare_data(data, response)

estimate_beta(data, response)

bootstrap_ci(data, response, beta_hat, n_bootstrap = 20, alpha = 0.05)

predict_class(beta, X)

confusion_matrix(data, response, beta)
}
\arguments{
\item{data}{A data frame containing the predictors and response variable.}

\item{response}{A string specifying the name of the response variable in the data frame.}

\item{beta_hat}{A numeric vector of estimated coefficients from the logistic regression model (used in `bootstrap_ci`).}

\item{n_bootstrap}{The number of bootstrap samples to use in `bootstrap_ci`. Default is 20.}

\item{alpha}{The significance level for the confidence intervals in `bootstrap_ci`. Default is 0.05.}

\item{beta}{A numeric vector of estimated coefficients from the logistic regression model (used in `predict_class` and `confusion_matrix`).}

\item{X}{The design matrix of predictors (used in `predict_class`).}
}
\value{
- `prepare_data`: A list containing the design matrix `X` and the response variable `y`.
- `estimate_beta`: A list containing the estimated coefficients `beta`, the value of the log-likelihood function, and the convergence status.
- `bootstrap_ci`: A matrix of confidence intervals for each coefficient.
- `predict_class`: A vector of predicted classes (0 or 1).
- `confusion_matrix`: A list containing the confusion matrix and various performance metrics. Metrics that cannot be computed due to division by zero are set to `NA`.
}
\description{
A set of functions to perform logistic regression, including data preparation, parameter estimation, bootstrapping confidence intervals, class prediction, and performance metrics. The `confusion_matrix` function has been updated to handle division by zero cases gracefully.
}
\details{
**Functions:**

- `prepare_data`: Prepares the design matrix for logistic regression by handling numerical, date, and factor data types.
- `estimate_beta`: Estimates the coefficients of a logistic regression model using numerical optimization.
- `bootstrap_ci`: Computes bootstrap confidence intervals for the logistic regression coefficients.
- `predict_class`: Predicts classes based on the estimated coefficients and a cutoff of 0.5.
- `confusion_matrix`: Computes the confusion matrix and various performance metrics for the logistic regression model. Handles division by zero to avoid `NaN` values in the output metrics.
}
\examples{
# Example Usage with Simulated Data
set.seed(123)
data <- data.frame(
  x1 = rnorm(100),
  x2 = as.factor(sample(c("A", "B"), 100, replace = TRUE)),
  x3 = as.Date('2023-01-01') + sample(1:100, 100),
  y = rbinom(100, 1, 0.5)
)

# Estimate beta
result <- estimate_beta(data, "y")
cat("Estimated Beta Coefficients:\n")
print(result$beta)

# Bootstrap Confidence Intervals
ci <- bootstrap_ci(data, "y", result$beta, n_bootstrap = 100, alpha = 0.05)
cat("\nBootstrap Confidence Intervals:\n")
print(ci)

# Confusion Matrix and Metrics
metrics <- confusion_matrix(data, "y", result$beta)
cat("\nConfusion Matrix:\n")
print(metrics$confusion_matrix)
cat("\nMetrics:\n")
cat("Prevalence:", metrics$prevalence, "\n")
cat("Accuracy:", metrics$accuracy, "\n")
cat("Sensitivity:", metrics$sensitivity, "\n")
cat("Specificity:", metrics$specificity, "\n")
cat("False Discovery Rate:", metrics$false_discovery_rate, "\n")
cat("Diagnostic Odds Ratio:", metrics$diagnostic_odds_ratio, "\n")

}
